## Отчет по лабораторной работе № 2

#### № группы: `ПМ-2402`

#### Выполнил: `Чижевская Софья Петровна`

#### Вариант: `29`

### Cодержание:

- [Постановка задачи](#1-постановка-задачи)
- [Входные и выходные данные](#2-входные-и-выходные-данные)
- [Выбор структуры данных](#3-выбор-структуры-данных)
- [Математическая модель и описание алгоритмов](#4-математическая-модель-и-описание-алгоритмов)
- [Программа](#5-программа)
- [Анализ правильности решения](#6-анализ-правильности-решения)

### 1. Постановка задачи
#### Условие задачи
>Напишите программу на Java, которая выполняет следующие действия с трёхмерным массивом целых чисел:
>1. Считывает с консоли размеры массива X, Y и Z, затем элементы массива размером X * Y * Z.
>2. Сортирует слои массива (по координатам Y и Z) по возрастанию суммы элементов в слое. Если суммы равны, сортирует по количеству чётных чисел в слое.
>3. Находит и выводит общую сумму всех элементов массива.
>4. Выводит элементы массива, представляя их в виде срезов по оси Z.
>5. Заменяет все отрицательные числа в массиве на их модули и выводит обновлённый массив.

### 2. Входные и выходные данные
#### Входные данные

|                   | Тип               | min значение | max значение |
|-------------------|-------------------|--------------|--------------|
| x (Число 1)       | Целое число       | 1            | $2^{31} - 1$ |
| y (Число 2)       | Целое число       | 1            | $2^{31} - 1$ |
| z (Число 3)       | Целое число       | 1            | $2^{31} - 1$ |
| array  (Массив 4) | Трехмерный массив | -($2^{31}$)  | $2^{31} - 1$ |

#### Выходные данные
|                   | Тип                 | min значение | max значение   |
|-------------------|---------------------|--------------|----------------|
| Трехмерный массив | Массив              | -($2^{31}$)  | $2^{31} - 1$   |
| Число             | Целочисленное число | -($2^{31}$)  | $2^{31} - 1$   |


### 3. Выбор структуры данных
|        | Тип          |
|--------|--------------|
| x      | int          |
| y      | in           |
| z      | int          |
| array  | int [][][]   |
Размерность массива и многомерный массив используют целочисленный тип данных int (из условия)

### 4. Математическая модель и описание алгоритмов
#### 4.1 Создание и заполнение массива
В этом блоке программы мы создаем трехмерный массив array. Для этого считываем размерность массива, а затем при помощи 3ех циклов заполняем массив
#### 4.2 Сортировка слоев
Данный блок программы реализует сортировку по заданным условиям. Для этого создаются 2 побочных массива sum_layer и even_count. Первый массив хранит информацию о сумме чисел в слое, а второй количество четных чисел. После этого, при помощи пузырьковой сортировки мы сначала сортируем по сумме чисел, а в случае если они равны обращаемся к массиву с данными о количестве четных чисел. После сравнения мы изменяем 3 массива (array, sum_layer, even_count). 
#### 4.3 Общая сумма элементов
Для нахождения суммы всех чисел в массиве, нужно пройти каждый его элемент (при помощи 3х циклов) и сложить каждый из них.
#### 4.4 Вывод элементов массива в виде срезов по оси Z
Вывод чисел по оси Z происходит при помощи 3х циклов. Но в отличие от ввода чисел, где внешний цикл перебирает индексы x, самым внешним циклом будем перебирать индексы z в трехмерном массиве array. Таким образом мы сможем вывести числа по оси Z.
#### 4.5 Обновление массива и замена отрицательных чисел
Чтобы убрать отрицательные числа, нужно пройти каждый его элемент (при помощи 3ех циклов) и если он отрицательный заменить его, на его модуль.

### 5. Программа
```java
import java.io.PrintStream;
import java.util.Scanner;
public class Main {
  public static Scanner in = new Scanner(System.in);
  public static PrintStream out = System.out;
  public static void main(String[] args) {
    // 1. Создание и заполнение массива
    // Ввод размерности многомерного массива
    out.print("Введите X: ");
    int x = in.nextInt();
    out.print("Введите Y: ");
    int y = in.nextInt();
    out.print("Введите Z: ");
    int z = in.nextInt();
    if(x > 0 && y > 0 && z > 0){
      // Создание многомерного массива
      int [][][] array = new int[x][y][z];
      out.print("Введите данные для многомерного массива: ");
      // Заполнение массива
      for(int i = 0; i < x; i++){
        for(int j = 0; j < y; j++){
          for(int k = 0; k < z; k++){
            array[i][j][k] = in.nextInt();
          }
        }
      }
      out.println();
      // 2. Сортировка слоев
      int [] sum_layer = new int[x];
      int [] even_count = new int[x];
      for(int i = 0; i < x; i++){
        for(int j = 0; j < y; j++){
          for(int k = 0; k < z; k++){
            sum_layer[i] += array[i][j][k];
            if(Math.abs(array[i][j][k]) % 2 == 0){
              even_count[i] += 1;
            }
          }
        }
      }
      // Пузырковая сортировка слоев по координатам Y, Z
      for(int i = 1; i<x; i++){
        for(int j = 0; j<x-i; j++){
          // Сравниваем суммы в слое
          if(sum_layer[j] > sum_layer[j+1]){
            int temp = sum_layer[j];
            int temp1 = even_count[j];
            int[][] temp_arr = array[j];
            sum_layer[j] = sum_layer[j+1];
            even_count[j] = even_count[j+1];
            array[j] = array[j+1];
            sum_layer[j+1] = temp;
            even_count[j+1] = temp1;
            array[j+1] = temp_arr;
            // Если суммы равны рассматриваем количество четных чисел
          } else if (sum_layer[j] == sum_layer[j+1]) {
            if(even_count[j] > even_count[j+1]){
              int temp = sum_layer[j];
              int temp1 = even_count[j];
              int[][] temp_arr = array[j];
              sum_layer[j] = sum_layer[j+1];
              even_count[j] = even_count[j+1];
              array[j] = array[j+1];
              sum_layer[j+1] = temp;
              even_count[j+1] = temp1;
              array[j+1] = temp_arr;
            }
          }
        }
      }
      // 3. Общая сумма элементов
      int summa = 0;
      for(int i = 0; i < x; i++){
        for(int j = 0; j < y; j++){
          for(int k = 0; k < z; k++){
            // Суммируем каждый элемент 
            summa += array[i][j][k];
          }
        }
      }
      out.println("Общая сумма элементов: " + summa + "\n");
      // 4. Вывод элементов массива в виде срезов по оси Z
      int counter = 1;
      // Начинаем рассматривать элементы по индексам z
      for(int k = 0; k < z; k++){
        for(int j = 0; j < y; j++){
          for(int i = 0; i < x; i++){
            out.printf(array[i][j][k] + " ");
          }
          out.println();
        }
        out.println("Слой " + counter);
        counter +=1;
        out.println();
      }
      // 5. Обновленный массив с положительными числами
      out.println("Отсортированный массив без отрицательных чисел");
      out.print("[");
      for(int i = 0; i < x; i++){
        out.print("[");
        for(int j = 0; j < y; j++){
          out.print("[");
          for(int k = 0; k < z; k++){
            // Заменяем отрицательное число на модуль
            if(array[i][j][k] < 0){
              array[i][j][k] = Math.abs(array[i][j][k]);
            }
            // Вывод массива (если число последнее, то не пишем запятую после числа)
            if(k != z-1){
              out.print(array[i][j][k] + ", ");
            }else{
              out.print(array[i][j][k]);
            }
          }
          // Вывод массива (если число последнее, то не пишем запятую после скобки)
          if(j != y-1){
            out.print("], ");
          }else{
            out.print("]");
          }
        }
        // Вывод массива (если число последнее, то не пишем запятую после скобки)
        if(i != x-1){
          out.print("], ");
        }else{
          out.print("]");
        }
      }
      out.print("]");
    } else{
      out.print("Указано некорректное значение размерности массива");
    }
  }
}
```

### 6. Анализ правильности решения
#### Рассмотрим возможные случаи
1. ##### x=0, y=0, z=0
Массив не имеет размера
- Input:
    ```
  0 0 0
    ```
- Output:
    ```
  Указано некорректное значение размерности массива
    ```
2. ##### x=0, y=2, z=3
Один из параметров массива задан неверно (равен 0)
- Input:
    ```
  0 2 3
    ```
- Output:
    ```
  Указано некорректное значение размерности массива
    ```
  
3. ##### x=3, y=-2, z=3
Один из параметров массива задан неверно (отрицательное значение в размерности)
- Input:
    ```
  3 -2 3
    ```
- Output:
    ```
  Указано некорректное значение размерности массива
    ```
4. ##### x=1, y=1, z=1
Каждый из параметров равен 1
- Input:
    ```
  1 1 1
  9
    ```
- Output:
    ```
  Общая сумма элементов: 9

  9
  Слой 1
  
  Отсортированный массив без отрицательных чисел
  [[[9]]]
    ```
5. ##### x=4, y=3, z=2
- Input:
    ```
  4 3 2
  13 14 15 16 17 18 
  19 20 21 22 23 24 
  12 11 10 9 8 7 
  6 5 4 3 2 1
    ```
- Output:
    ```
  Общая сумма элементов: 300
  
  6 12 13 19
  4 10 15 21
  2 8 17 23
  Слой 1
  
  5 11 14 20
  3 9 16 22
  1 7 18 24
  Слой 2
  
  Отсортированный массив без отрицательных чисел
  [[[6, 5], [4, 3], [2, 1]], [[12, 11], [10, 9], [8, 7]], [[13, 14], [15, 16], [17, 18]], [[19, 20], [21, 22], [23, 24]]]
    ```
6. ##### x=2, y=3, z=4
- Input:
    ```
  2 3 4
  1 2 -3 5 
  6 8 5 -7 
  8 9 10 100 
  23 -45 65 -93 
  32 34 -5 43 
  23 3 6 6
    ```
- Output:
    ```
  Общая сумма элементов: 236
  
  23 1
  32 6
  23 8
  Слой 1
  
  -45 2
  34 8
  3 9
  Слой 2
  
  65 -3
  -5 5
  6 10
  Слой 3
  
  -93 5
  43 -7
  6 100
  Слой 4
  
  Отсортированный массив без отрицательных чисел
  [[[23, 45, 65, 93], [32, 34, 5, 43], [23, 3, 6, 6]], [[1, 2, 3, 5], [6, 8, 5, 7], [8, 9, 10, 100]]]
    ```
7. ##### x=5, y=2, z=3
- Input:
    ```
  5 2 3
  10 10 3 4 8 7
  19 19 1 1 1 1
  1 -3 -7 -6 3 0
  2 2 2 2 2 2
  1 1 1 7 1 1
  ```
- Output:
    ```
  Общая сумма элементов: 96
  
  1 1 2 19 10
  -6 7 2 1 4
  Слой 1
  
  -3 1 2 19 10
  3 1 2 1 8
  Слой 2
  
  -7 1 2 1 3
  0 1 2 1 7
  Слой 3
  
  Отсортированный массив без отрицательных чисел
  [[[1, 3, 7], [6, 3, 0]], [[1, 1, 1], [7, 1, 1]], [[2, 2, 2], [2, 2, 2]], [[19, 19, 1], [1, 1, 1]], [[10, 10, 3], [4, 8, 7]]]
    ```
